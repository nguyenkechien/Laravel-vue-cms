(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"4NQD":function(e,t,r){var n=r("q38+");"string"==typeof n&&(n=[[e.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};r("aET+")(n,a);n.locals&&(e.exports=n.locals)},Fgb4:function(e,t,r){"use strict";var n=r("vDqi"),a=r.n(n),o={DOMAIN_API:"https://127.0.0.2"},s=document.head.querySelector('meta[name="x-token"]');t.a=a.a.create({baseURL:"".concat(o.DOMAIN_API,"/api"),headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(s.content)}})},JMwZ:function(e,t,r){"use strict";var n=r("4NQD");r.n(n).a},"q38+":function(e,t,r){(e.exports=r("I1BE")(!1)).push([e.i,".list-image img {\n  max-width: 100%;\n  width: auto;\n}",""])},zjnP:function(e,t,r){"use strict";r.r(t);var n=r("o0o1"),a=r.n(n),o=r("Fgb4");function s(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,c=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return s=e.done,e},e:function(e){c=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(c)throw o}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c(e,t,r,n,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void r(e)}i.done?t(c):Promise.resolve(c).then(n,a)}function l(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function s(e){c(o,n,a,s,i,"next",e)}function i(e){c(o,n,a,s,i,"throw",e)}s(void 0)}))}}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var f=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,n,i,c,f;return t=e,(r=[{key:"getFiles",value:(f=l(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.get("/assets");case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),500===e.t0.response.status&&_vm.$router.push({name:"Logout"});case 10:case"end":return e.stop()}}),e,null,[[0,6]])}))),function(){return f.apply(this,arguments)})},{key:"upload",value:(c=l(a.a.mark((function e(t,r){var n,i,c,l;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=new FormData,i=s(t);try{for(i.s();!(c=i.n()).done;)l=c.value,n.append("photos[]",l)}catch(e){i.e(e)}finally{i.f()}return e.next=6,o.a.post("/assets",n,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:r});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)}))),function(e,t){return c.apply(this,arguments)})},{key:"deleteFile",value:(i=l(a.a.mark((function e(t,r){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.delete("/assets/".concat(t),r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(e,t){return i.apply(this,arguments)})}])&&u(t.prototype,r),n&&u(t,n),e}()),v=r("L2JU");function p(e,t,r,n,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void r(e)}i.done?t(c):Promise.resolve(c).then(n,a)}function d(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function s(e){p(o,n,a,s,i,"next",e)}function i(e){p(o,n,a,s,i,"throw",e)}s(void 0)}))}}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var b={name:"upload-files",data:function(){return{grid:["--large","--medium","--large","--full"],currentFile:void 0,progress:0,message:"",fileInfos:[],rules:[function(e){return!e||!e.some((function(e){return e.size>2e6}))||"Image size should be less than 2 MB!"}],currentImageName:null,looadImage:!0}},methods:g(g({},Object(v.b)({setCategories:"SET_CATEGORIES"})),{},{selectFile:function(e){e.length?(this.progress=0,this.currentFile=e):this.currentFile=void 0},onSelectedImage:function(e){"Editor"===this.dialogImage.cursorLocation?this.$store.commit("SET_DIALOGIMAGE",{openDialog:!1,image:e,cursorLocation:""}):(this.$store.commit("SET_DIALOGIMAGE",{openDialog:!1}),this.$emit("selected-image",e))},upload:function(){var e=this;return d(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.currentFile){t.next=2;break}return t.abrupt("return",e.message="Please select a file!");case 2:return e.message="",e.looadImage=!0,t.t0=Promise,t.next=7,f.upload(e.currentFile,(function(t){e.progress=Math.round(100*t.loaded/t.total)}));case 7:return t.t1=t.sent,t.next=10,f.getFiles();case 10:return t.t2=t.sent,t.t3=[t.t1,t.t2],t.next=14,t.t0.all.call(t.t0,t.t3).then((function(t){t.forEach((function(t){["GET","Get","get"].includes(t.config.method)?e.fileInfos=t.data.data:e.message=t.data.message}))}));case 14:return t.prev=14,t.next=17,e.resetData();case 17:t.next=24;break;case 19:t.prev=19,t.t4=t.catch(14),e.progress=0,e.message="Could not upload the file!",e.currentFile=void 0;case 24:case"end":return t.stop()}}),t,null,[[14,19]])})))()},onDelete:function(e){var t=this;return d(a.a.mark((function r(){var n,o,s;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t.message="",t.looadImage=!0,r.next=4,f.deleteFile(e.name,(function(e){t.progress=Math.round(100*e.loaded/e.total)}));case 4:return n=r.sent,o=n.data.message,r.prev=6,t.message=o,s=t.fileInfos.indexOf(e),t.fileInfos.splice(s,1),r.next=12,t.resetData();case 12:r.next=19;break;case 14:r.prev=14,r.t0=r.catch(6),t.progress=0,t.message="Could not upload the file!",t.currentFile=void 0;case 19:case"end":return r.stop()}}),r,null,[[6,14]])})))()},resetData:function(){var e=this;return new Promise((function(t){return setTimeout((function(){e.message="",e.progress=0,e.currentFile=void 0,e.looadImage=!1,t()}),1e3*(2*Math.random()+0))}))},close:function(){this.$store.commit("SET_DIALOGIMAGE",{openDialog:!1,image:{},cursorLocation:""})}}),mounted:function(){var e=this;return d(a.a.mark((function t(){var r,n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.fileInfos.length){t.next=2;break}return t.abrupt("return",!0);case 2:return t.next=4,f.getFiles();case 4:return r=t.sent,n=r.data.data,t.prev=6,e.fileInfos=n,t.next=10,e.resetData();case 10:t.next=16;break;case 12:t.prev=12,t.t0=t.catch(6),e.message="Not Files",console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[6,12]])})))()},computed:g({},Object(v.c)(["dialogImage"]))},y=(r("JMwZ"),r("KHd+")),w=Object(y.a)(b,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-row",{staticClass:"v-dialog-image",attrs:{justify:"center"}},[r("v-dialog",{attrs:{scrollable:"","hide-overlay":""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,a=t.attrs;return[r("v-btn",e._g(e._b({attrs:{color:"primary",dark:""}},"v-btn",a,!1),n),[e._v("Choose The Picture")])]}}]),model:{value:e.dialogImage.openDialog,callback:function(t){e.$set(e.dialogImage,"openDialog",t)},expression:"dialogImage.openDialog"}},[e._v(" "),r("v-card",{attrs:{height:"90vh"}},[r("v-card-title",[r("v-toolbar",{attrs:{dark:"",color:"primary"}},[r("v-toolbar-title",[e._v("Images")]),e._v(" "),r("v-spacer"),e._v(" "),r("v-btn",{attrs:{icon:"",dark:""},on:{click:e.close}},[r("v-icon",[e._v("fal fa-times")])],1)],1)],1),e._v(" "),r("v-divider"),e._v(" "),r("v-container",[e.currentFile?r("div",[r("v-progress-linear",{attrs:{value:e.progress,color:"light-blue",height:"25",reactive:""}},[r("strong",[e._v(e._s(e.progress)+" %")])])],1):e._e(),e._v(" "),r("v-row",{staticClass:"pb-4",attrs:{"no-gutters":"",justify:"start",align:"center"}},[r("v-col",{attrs:{cols:"4"}},[r("v-file-input",{attrs:{rules:e.rules,"show-size":"",accept:"image/png, image/jpeg, image/bmp",label:"File input",multiple:""},on:{change:e.selectFile},model:{value:e.currentFile,callback:function(t){e.currentFile=t},expression:"currentFile"}})],1),e._v(" "),r("v-col",{staticClass:"pl-2",attrs:{cols:"2"}},[r("v-btn",{attrs:{color:"success",dark:"",small:""},on:{click:e.upload}},[e._v("\n              Upload\n              "),r("v-icon",{attrs:{right:"",dark:""}},[e._v("fal fa-cloud-upload-alt")])],1)],1)],1)],1),e._v(" "),r("v-card-text",[r("v-container",[e.message?r("v-alert",{attrs:{border:"left",color:"blue-grey",dark:""}},[e._v(e._s(e.message))]):e._e(),e._v(" "),e.fileInfos.length>0?[r("v-subheader",[e._v("List of Files")]),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:e.looadImage,expression:"looadImage"}],staticClass:"text-center"},[r("v-progress-circular",{attrs:{size:70,width:7,color:"primary",indeterminate:""}})],1),e._v(" "),r("v-row",{directives:[{name:"show",rawName:"v-show",value:!e.looadImage,expression:"!looadImage"}],attrs:{align:"start",justify:"start"}},e._l(e.fileInfos,(function(t,n){return r("v-col",{key:n,staticClass:"list-image",attrs:{cols:"2"}},[r("v-card",{staticStyle:{"text-align":"center"}},[r("img",{attrs:{src:"/assets/"+t.name,alt:t.name}}),e._v(" "),r("v-divider"),e._v(" "),r("v-card-text",{domProps:{innerHTML:e._s(t.name)}}),e._v(" "),r("v-divider"),e._v(" "),r("v-card-actions",[r("v-spacer"),e._v(" "),r("v-btn",{attrs:{color:"primary",dark:"",small:"",icon:""},on:{click:function(r){return e.onSelectedImage(t)}}},[r("v-icon",{attrs:{right:"",dark:""}},[e._v("fal fa-check")])],1),e._v(" "),r("v-btn",{attrs:{color:"red darken-2",dark:"",small:"",icon:""},on:{click:function(r){return e.onDelete(t)}}},[r("v-icon",{attrs:{right:"",dark:""}},[e._v("fal fa-trash-alt")])],1)],1)],1)],1)})),1)]:e._e()],2)],1)],1)],1)],1)}),[],!1,null,null,null);t.default=w.exports}}]);
//# sourceMappingURL=5.js.map