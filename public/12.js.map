{"version":3,"sources":["webpack:///./resources/js/BE/pages/Products/index.vue?4db8","webpack:///./resources/js/BE/services/ProductService.js","webpack:///resources/js/BE/pages/Products/index.vue","webpack:///./resources/js/BE/pages/Products/index.vue?f00b","webpack:///./resources/js/BE/pages/Products/index.vue","webpack:///./resources/js/BE/config.js","webpack:///./resources/js/BE/http/http-common.js","webpack:///./resources/js/BE/services/CategoryService/Product.js"],"names":["http","get","response","status","_vm","$router","push","name","product","data","title","content","price","thumbnail_id","meta_title","meta_description","meta_keywords","tags","keywords","param","publish","category_products_id","post","updated_at","put","id","headers","fieldsLeft","category","categorySelected","items","thumbnail","isLoading","openDialog","editIndex","newItem","sheet","opentSheet","message","computed","heading","this","methods","editItem","findIndex","forEach","group","field","value","item","ref","category_products","getMaxDate","reduce","component","_h","$createElement","_c","_self","staticClass","attrs","scopedSlots","_u","key","fn","_v","_s","Date","created_at","toDateString","on","$event","onSave","proxy","toLocaleString","deleteItem","$set","config","DOMAIN_API","xToken","document","head","querySelector","Axios","create","baseURL","CategoryProductService","console","log"],"mappings":"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","file":"12.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('base-material-card',{staticClass:\"px-5 py-10\",attrs:{\"color\":\"warning\"},scopedSlots:_vm._u([{key:\"heading\",fn:function(){return [_c('div',{staticClass:\"display-2 font-weight-light\"},[_vm._v(_vm._s(_vm.newItem.title))]),_vm._v(\" \"),_c('div',{staticClass:\"subtitle-1 font-weight-light\"},[_vm._v(\"New product on \"+_vm._s(new Date(_vm.newItem.created_at).toDateString()))]),_vm._v(\" \"),_c('v-spacer',{staticClass:\"py-3\"}),_vm._v(\" \"),_c('base-dialogs-form',{attrs:{\"heading\":_vm.heading,\"openDialog\":_vm.openDialog,\"fieldsLeft\":_vm.fieldsLeft,\"category\":_vm.category,\"thumbnail\":_vm.thumbnail,\"publish\":_vm.publish,\"editIndex\":_vm.editIndex},on:{\"update:openDialog\":function($event){_vm.openDialog=$event},\"update:open-dialog\":function($event){_vm.openDialog=$event},\"update:thumbnail\":function($event){_vm.thumbnail=$event},\"update:publish\":function($event){_vm.publish=$event},\"update:editIndex\":function($event){_vm.editIndex=$event},\"update:edit-index\":function($event){_vm.editIndex=$event},\"save\":_vm.onSave}})]},proxy:true}])},[_vm._v(\" \"),_c('v-card-text',[_c('v-data-table',{attrs:{\"loading\":_vm.isLoading,\"headers\":_vm.headers,\"items\":_vm.items},scopedSlots:_vm._u([{key:\"item.updated_at\",fn:function(ref){\nvar item = ref.item;\nreturn [_vm._v(_vm._s(new Date(item.updated_at).toLocaleString()))]}},{key:\"item.thumbnail\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-img',{staticClass:\"m-auto\",attrs:{\"src\":(\"/assets/\" + (item.thumbnail.name)),\"width\":\"100\"}})]}},{key:\"item.category_products\",fn:function(ref){\nvar item = ref.item;\nreturn [_vm._v(_vm._s(item.category_products ? item.category_products.name : ''))]}},{key:\"item.publish\",fn:function(ref){\nvar item = ref.item;\nreturn [_vm._v(_vm._s(item.publish == 1 ? true : false))]}},{key:\"item.actions\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-icon',{staticClass:\"mr-2\",attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.editItem(item)}}},[_vm._v(\"fal fa-pencil\")]),_vm._v(\" \"),_c('v-icon',{attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.deleteItem(item)}}},[_vm._v(\"fal fa-trash-alt\")])]}}])})],1)],1),_vm._v(\" \"),_c('base-bottom-sheet',{attrs:{\"opentSheet\":_vm.sheet.opentSheet,\"message\":_vm.sheet.message},on:{\"update:opentSheet\":function($event){return _vm.$set(_vm.sheet, \"opentSheet\", $event)},\"update:opent-sheet\":function($event){return _vm.$set(_vm.sheet, \"opentSheet\", $event)}}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import http from \"./../http/http-common\";\n\nclass ProductService {\n  async index() {\n    try {\n      return await http.get(\"/products\");\n    } catch ({ response }) {\n      if (response.status === 500) _vm.$router.push({name: 'Logout'})\n    }\n  }\n  show(product) {}\n  async create(product) {\n    const data = {\n      title: product.title,\n      content: product.content,\n      price: product.price,\n      thumbnail_id: product.thumbnail_id,\n      meta_title: product.meta_title,\n      meta_description: product.meta_description,\n      meta_keywords: product.meta_keywords,\n      tags: product.tags,\n      keywords: product.keywords,\n      param: product.param,\n      publish: product.publish,\n      category_products_id: product.category_products_id,\n    };\n    return await http.post(\"/products\", data);\n  }\n  async update(product) {\n    const data = {\n      title: product.title,\n      content: product.content,\n      price: product.price,\n      thumbnail_id: product.thumbnail_id,\n      meta_title: product.meta_title,\n      meta_description: product.meta_description,\n      meta_keywords: product.meta_keywords,\n      tags: product.tags,\n      keywords: product.keywords,\n      param: product.param,\n      publish: product.publish,\n      category_products_id: product.category_products_id,\n      updated_at: product.updated_at\n    };\n    return await http.put(\"/products/\" + product.id, data);\n  }\n  async destroy(product) {\n    return await http.delete(`/products/${product.id}`);\n  }\n}\n\nexport default new ProductService();\n","<template>\r\n  <v-container>\r\n    <base-material-card color=\"warning\" class=\"px-5 py-10\">\r\n      <template v-slot:heading>\r\n        <div class=\"display-2 font-weight-light\">{{ newItem.title }}</div>\r\n\r\n        <div\r\n          class=\"subtitle-1 font-weight-light\"\r\n        >New product on {{ new Date(newItem.created_at).toDateString() }}</div>\r\n        <v-spacer class=\"py-3\" />\r\n        <base-dialogs-form\r\n          :heading=\"heading\"\r\n          :openDialog.sync=\"openDialog\"\r\n          :fieldsLeft=\"fieldsLeft\"\r\n          :category=\"category\"\r\n          :thumbnail.sync=\"thumbnail\"\r\n          :publish.sync=\"publish\"\r\n          :editIndex.sync=\"editIndex\"\r\n          @save=\"onSave\"\r\n        />\r\n      </template>\r\n      <v-card-text>\r\n        <v-data-table :loading=\"isLoading\" :headers=\"headers\" :items=\"items\">\r\n          <template\r\n            v-slot:item.updated_at=\"{ item }\"\r\n          >{{ new Date(item.updated_at).toLocaleString() }}</template>\r\n          <template v-slot:item.thumbnail=\"{item}\">\r\n            <v-img :src=\"`/assets/${item.thumbnail.name}`\" width=\"100\" class=\"m-auto\" />\r\n          </template>\r\n          <template\r\n            v-slot:item.category_products=\"{item}\"\r\n          >{{ item.category_products ? item.category_products.name : ''}}</template>\r\n          <template v-slot:item.publish=\"{ item }\">{{ item.publish == 1 ? true : false}}</template>\r\n          <template v-slot:item.actions=\"{ item }\">\r\n            <v-icon small class=\"mr-2\" @click=\"editItem(item)\">fal fa-pencil</v-icon>\r\n            <v-icon small @click=\"deleteItem(item)\">fal fa-trash-alt</v-icon>\r\n          </template>\r\n        </v-data-table>\r\n      </v-card-text>\r\n    </base-material-card>\r\n    <base-bottom-sheet :opentSheet.sync=\"sheet.opentSheet\" :message=\"sheet.message\" />\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapMutations } from \"vuex\";\r\nimport CategoryProductService from \"./../../services/CategoryService/Product\";\r\nimport ProductService from \"./../../services/ProductService\";\r\nexport default {\r\n  name: \"Products\",\r\n  data() {\r\n    return {\r\n      headers: [\r\n        {\r\n          sortable: false,\r\n          text: \"ID\",\r\n          value: \"id\"\r\n        },\r\n        {\r\n          sortable: false,\r\n          text: \"Title\",\r\n          value: \"title\"\r\n        },\r\n        {\r\n          sortable: false,\r\n          text: \"Price\",\r\n          value: \"price\"\r\n        },\r\n        {\r\n          sortable: false,\r\n          text: \"Category\",\r\n          value: \"category_products\"\r\n        },\r\n        {\r\n          sortable: false,\r\n          text: \"Param\",\r\n          value: \"param\",\r\n          align: \"right\"\r\n        },\r\n        {\r\n          sortable: false,\r\n          text: \"Thumbnail\",\r\n          value: \"thumbnail\",\r\n          align: \"center\"\r\n        },\r\n        {\r\n          sortable: false,\r\n          text: \"Publish\",\r\n          value: \"publish\",\r\n          align: \"right\"\r\n        },\r\n        {\r\n          sortable: false,\r\n          text: \"Updated at\",\r\n          value: \"updated_at\",\r\n          align: \"right\"\r\n        },\r\n        {\r\n          text: \"Actions\",\r\n          value: \"actions\",\r\n          sortable: false,\r\n          align: \"right\"\r\n        }\r\n      ],\r\n      fieldsLeft: [\r\n        {\r\n          icon: \"fal fa-pen\",\r\n          title: \"Contents\",\r\n          active: true,\r\n          items: [\r\n            {\r\n              title: \"id\",\r\n              ref: \"id\",\r\n              rules: [],\r\n              required: true,\r\n              value: \"\"\r\n            },\r\n            {\r\n              title: \"Titile\",\r\n              ref: \"title\",\r\n              rules: [],\r\n              required: true,\r\n              value: \"\"\r\n            },\r\n            {\r\n              title: \"Price\",\r\n              ref: \"price\",\r\n              rules: [],\r\n              required: true,\r\n              value: \"\"\r\n            },\r\n            {\r\n              title: \"Content\",\r\n              isEditor: true,\r\n              ref: \"content\",\r\n              value: \"\"\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          icon: \"fal fa-book-reader\",\r\n          title: \"Meta Seo\",\r\n          items: [\r\n            {\r\n              title: \"Meta title\",\r\n              ref: \"meta_title\",\r\n              rules: [],\r\n              required: true,\r\n              value: \"\"\r\n            },\r\n            {\r\n              title: \"Meta description\",\r\n              ref: \"meta_description\",\r\n              rules: [],\r\n              required: true,\r\n              value: \"\"\r\n            },\r\n            {\r\n              title: \"Meta keywords\",\r\n              ref: \"meta_keywords\",\r\n              rules: [],\r\n              required: true,\r\n              value: \"\"\r\n            },\r\n            {\r\n              title: \"Param\",\r\n              ref: \"param\",\r\n              rules: [],\r\n              required: true,\r\n              value: \"\"\r\n            }\r\n          ]\r\n        }\r\n      ],\r\n      category: {\r\n        categorySelected: {},\r\n        items: []\r\n      },\r\n      thumbnail: {},\r\n      publish: true,\r\n      items: [],\r\n      isLoading: true,\r\n      openDialog: false,\r\n      editIndex: -1,\r\n      newItem: {},\r\n      sheet: {\r\n        opentSheet: false,\r\n        message: \"\"\r\n      }\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState([\"categories\"]),\r\n    heading() {\r\n      return this.editIndex === -1 ? \"New Product\" : \"Edit Product\";\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapMutations({\r\n      setCategories: \"SET_CATEGORIES\"\r\n    }),\r\n    editItem(item) {\r\n      this.openDialog = true;\r\n      this.editIndex = this.items.findIndex(data => data.title == item.title);\r\n      this.fieldsLeft.forEach(group => {\r\n        group.items.forEach(field => {\r\n          field.value = item[field.ref];\r\n        });\r\n      });\r\n      this.category.categorySelected = item.category_products;\r\n      this.thumbnail = { ...item.thumbnail };\r\n      this.publish = item.publish === 1 ? true : false;\r\n    },\r\n    async onSave(item) {\r\n      item[\"thumbnail_id\"] = item.thumbnail.id;\r\n      item[\"category_products_id\"] =\r\n        typeof item.category === \"number\" ? item.category : item.category.id;\r\n      if (this.editIndex > -1) {\r\n        await ProductService.update(item).then(({ data: { data } }) => {\r\n          Object.assign(this.items[this.editIndex], data);\r\n        });\r\n      } else {\r\n        await ProductService.create(item).then(({ data: { data } }) => {\r\n          this.items.unshift(data);\r\n        });\r\n      }\r\n      this.openDialog= false;\r\n      this.editIndex = -1;\r\n    },\r\n    async deleteItem(item) {\r\n      const index = await this.items.findIndex(i => i.title == item.title);\r\n      if (index > -1) {\r\n        await ProductService.destroy(item).then(({ data: { message } }) => {\r\n          this.items.splice(index, 1);\r\n          this.sheet.opentSheet = true;\r\n          this.sheet.message = message;\r\n        });\r\n      }\r\n    },\r\n    getMaxDate() {\r\n      this.newItem = this.items.reduce((a, b) =>\r\n        new Date(a.created_at) > new Date(b.created_at) ? a : b\r\n      );\r\n    }\r\n  },\r\n  async mounted() {\r\n    await ProductService.index()\r\n      .then(({ data: { data } }) => {\r\n        this.items = data;\r\n        this.isLoading = false;\r\n      })\r\n      .catch(err => {\r\n        this.isLoading = true;\r\n        console.log(err);\r\n      });\r\n\r\n    if (!this.categories.products) {\r\n      await CategoryProductService.index().then(({ data: { data } }) => {\r\n        this.setCategories({\r\n          ...this.categories,\r\n          products: data\r\n        });\r\n        this.category.items = [...data];\r\n      });\r\n    } else {\r\n      this.category.items = [...this.categories.products];\r\n    }\r\n    this.getMaxDate();\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=2830d7f4&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","const NODE_ENV = process.env.NODE_ENV;\r\n\r\nconst dev = {\r\n    DOMAIN_API: \"http://127.0.0.1:8000\"\r\n};\r\n\r\nconst prod = {\r\n    DOMAIN_API: \"https://127.0.0.2\"\r\n};\r\n\r\nexport const config = NODE_ENV == \"development\" ? dev : prod;\r\n","import Axios from \"axios\";\nimport {config} from \"../config.js\";\n\nconst xToken = document.head.querySelector('meta[name=\"x-token\"]');\n\nexport default Axios.create({\n  baseURL: `${config.DOMAIN_API}/api`,\n  headers: {\n    \"Content-type\": \"application/json\",\n    \"Authorization\": `Bearer ${xToken.content}`\n  }\n});\n","import http from \"./../../http/http-common\";\n\nclass CategoryProductService {\n  async index() {\n    try {\n      return await http.get(\"category_products\");\n    } catch ({ response }) {\n      if (response.status === 500) _vm.$router.push({name: 'Logout'})\n    }\n  }\n  show(category) {}\n  async create(category) {\n    return await http.post(\"category_products\", category);\n  }\n  async update(category) {\n    console.log(category)\n    return await http.put('category_products/' + category.id, category);\n  }\n  async destroy(id) {\n    return await http.delete(`category_products/${id}`);\n  }\n}\n\nexport default new CategoryProductService();\n"],"sourceRoot":""}