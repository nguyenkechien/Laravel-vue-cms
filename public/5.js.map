{"version":3,"sources":["webpack:///./resources/js/BE/components/DialogsImages.vue?e4de","webpack:///./resources/js/BE/config.js","webpack:///./resources/js/BE/http/http-common.js","webpack:///./resources/js/BE/components/DialogsImages.vue?0766","webpack:///./resources/js/BE/components/DialogsImages.vue?88bd","webpack:///./resources/js/BE/components/DialogsImages.vue?4fd4","webpack:///./resources/js/BE/services/UploadFilesService.js","webpack:///resources/js/BE/components/DialogsImages.vue","webpack:///./resources/js/BE/components/DialogsImages.vue?a8c4","webpack:///./resources/js/BE/components/DialogsImages.vue"],"names":["content","module","i","options","transform","undefined","locals","exports","config","DOMAIN_API","xToken","document","head","querySelector","Axios","create","baseURL","headers","push","http","get","response","status","_vm","$router","name","files","onUploadProgress","formData","FormData","file","append","post","fileName","data","grid","currentFile","progress","message","fileInfos","rules","currentImageName","looadImage","methods","selectFile","length","this","onSelectedImage","dialogImage","cursorLocation","$store","commit","openDialog","image","$emit","resetData","Promise","resolve","close","computed","component","_h","$createElement","_c","_self","staticClass","attrs","scopedSlots","_u","key","fn","ref","on","_g","_b","_v","model","value","callback","$$v","$set","expression","_s","_e","upload","directives","rawName","_l","index","staticStyle","domProps","$event","onDelete"],"mappings":"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","file":"5.js","sourcesContent":["\nvar content = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DialogsImages.vue?vue&type=style&index=0&lang=scss&\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DialogsImages.vue?vue&type=style&index=0&lang=scss&\", function() {\n\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DialogsImages.vue?vue&type=style&index=0&lang=scss&\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","const NODE_ENV = process.env.NODE_ENV;\r\n\r\nconst dev = {\r\n    DOMAIN_API: \"http://127.0.0.1:8000\"\r\n};\r\n\r\nconst prod = {\r\n    DOMAIN_API: \"https://127.0.0.2\"\r\n};\r\n\r\nexport const config = NODE_ENV == \"development\" ? dev : prod;\r\n","import Axios from \"axios\";\nimport {config} from \"../config.js\";\n\nconst xToken = document.head.querySelector('meta[name=\"x-token\"]');\n\nexport default Axios.create({\n  baseURL: `${config.DOMAIN_API}/api`,\n  headers: {\n    \"Content-type\": \"application/json\",\n    \"Authorization\": `Bearer ${xToken.content}`\n  }\n});\n","import mod from \"-!../../../../node_modules/style-loader/index.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DialogsImages.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/style-loader/index.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DialogsImages.vue?vue&type=style&index=0&lang=scss&\"","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".list-image img {\\n  max-width: 100%;\\n  width: auto;\\n}\", \"\"]);\n\n// exports\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-row',{staticClass:\"v-dialog-image\",attrs:{\"justify\":\"center\"}},[_c('v-dialog',{attrs:{\"scrollable\":\"\",\"hide-overlay\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"color\":\"primary\",\"dark\":\"\"}},'v-btn',attrs,false),on),[_vm._v(\"Choose The Picture\")])]}}]),model:{value:(_vm.dialogImage.openDialog),callback:function ($$v) {_vm.$set(_vm.dialogImage, \"openDialog\", $$v)},expression:\"dialogImage.openDialog\"}},[_vm._v(\" \"),_c('v-card',{attrs:{\"height\":\"90vh\"}},[_c('v-card-title',[_c('v-toolbar',{attrs:{\"dark\":\"\",\"color\":\"primary\"}},[_c('v-toolbar-title',[_vm._v(\"Images\")]),_vm._v(\" \"),_c('v-spacer'),_vm._v(\" \"),_c('v-btn',{attrs:{\"icon\":\"\",\"dark\":\"\"},on:{\"click\":_vm.close}},[_c('v-icon',[_vm._v(\"fal fa-times\")])],1)],1)],1),_vm._v(\" \"),_c('v-divider'),_vm._v(\" \"),_c('v-container',[(_vm.currentFile)?_c('div',[_c('v-progress-linear',{attrs:{\"value\":_vm.progress,\"color\":\"light-blue\",\"height\":\"25\",\"reactive\":\"\"}},[_c('strong',[_vm._v(_vm._s(_vm.progress)+\" %\")])])],1):_vm._e(),_vm._v(\" \"),_c('v-row',{staticClass:\"pb-4\",attrs:{\"no-gutters\":\"\",\"justify\":\"start\",\"align\":\"center\"}},[_c('v-col',{attrs:{\"cols\":\"4\"}},[_c('v-file-input',{attrs:{\"rules\":_vm.rules,\"show-size\":\"\",\"accept\":\"image/png, image/jpeg, image/bmp\",\"label\":\"File input\",\"multiple\":\"\"},on:{\"change\":_vm.selectFile},model:{value:(_vm.currentFile),callback:function ($$v) {_vm.currentFile=$$v},expression:\"currentFile\"}})],1),_vm._v(\" \"),_c('v-col',{staticClass:\"pl-2\",attrs:{\"cols\":\"2\"}},[_c('v-btn',{attrs:{\"color\":\"success\",\"dark\":\"\",\"small\":\"\"},on:{\"click\":_vm.upload}},[_vm._v(\"\\n              Upload\\n              \"),_c('v-icon',{attrs:{\"right\":\"\",\"dark\":\"\"}},[_vm._v(\"fal fa-cloud-upload-alt\")])],1)],1)],1)],1),_vm._v(\" \"),_c('v-card-text',[_c('v-container',[(_vm.message)?_c('v-alert',{attrs:{\"border\":\"left\",\"color\":\"blue-grey\",\"dark\":\"\"}},[_vm._v(_vm._s(_vm.message))]):_vm._e(),_vm._v(\" \"),(_vm.fileInfos.length > 0)?[_c('v-subheader',[_vm._v(\"List of Files\")]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.looadImage),expression:\"looadImage\"}],staticClass:\"text-center\"},[_c('v-progress-circular',{attrs:{\"size\":70,\"width\":7,\"color\":\"primary\",\"indeterminate\":\"\"}})],1),_vm._v(\" \"),_c('v-row',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.looadImage),expression:\"!looadImage\"}],attrs:{\"align\":\"start\",\"justify\":\"start\"}},_vm._l((_vm.fileInfos),function(file,index){return _c('v-col',{key:index,staticClass:\"list-image\",attrs:{\"cols\":\"2\"}},[_c('v-card',{staticStyle:{\"text-align\":\"center\"}},[_c('img',{attrs:{\"src\":(\"/assets/\" + (file.name)),\"alt\":file.name}}),_vm._v(\" \"),_c('v-divider'),_vm._v(\" \"),_c('v-card-text',{domProps:{\"innerHTML\":_vm._s(file.name)}}),_vm._v(\" \"),_c('v-divider'),_vm._v(\" \"),_c('v-card-actions',[_c('v-spacer'),_vm._v(\" \"),_c('v-btn',{attrs:{\"color\":\"primary\",\"dark\":\"\",\"small\":\"\",\"icon\":\"\"},on:{\"click\":function($event){return _vm.onSelectedImage(file)}}},[_c('v-icon',{attrs:{\"right\":\"\",\"dark\":\"\"}},[_vm._v(\"fal fa-check\")])],1),_vm._v(\" \"),_c('v-btn',{attrs:{\"color\":\"red darken-2\",\"dark\":\"\",\"small\":\"\",\"icon\":\"\"},on:{\"click\":function($event){return _vm.onDelete(file)}}},[_c('v-icon',{attrs:{\"right\":\"\",\"dark\":\"\"}},[_vm._v(\"fal fa-trash-alt\")])],1)],1)],1)],1)}),1)]:_vm._e()],2)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import http from \"../http/http-common\";\n\nclass UploadFilesService {\n  async getFiles() {\n    try {\n      return await http.get(\"/assets\");\n    } catch ({ response }) {\n      if (response.status === 500) _vm.$router.push({name: 'Logout'})\n    }\n  }\n\n  async upload(files, onUploadProgress) {\n    let formData = new FormData();\n    for (let file of files) {\n      formData.append(\"photos[]\", file);\n    };\n\n    return await http.post(\"/assets\", formData, {\n      headers: {\n        \"Content-Type\": \"multipart/form-data\"\n      },\n      onUploadProgress\n    });\n  }\n\n  async deleteFile(fileName, onUploadProgress) {\n    return await http.delete(`/assets/${fileName}`, onUploadProgress)\n  }\n}\n\nexport default new UploadFilesService();\n","<template>\n  <v-row justify=\"center\" class=\"v-dialog-image\">\n    <v-dialog v-model=\"dialogImage.openDialog\" scrollable hide-overlay>\n      <template v-slot:activator=\"{ on, attrs }\">\n        <v-btn color=\"primary\" dark v-bind=\"attrs\" v-on=\"on\">Choose The Picture</v-btn>\n      </template>\n      <v-card height=\"90vh\">\n        <v-card-title>\n          <v-toolbar dark color=\"primary\">\n            <v-toolbar-title>Images</v-toolbar-title>\n            <v-spacer></v-spacer>\n            <v-btn icon dark @click=\"close\">\n              <v-icon>fal fa-times</v-icon>\n            </v-btn>\n          </v-toolbar>\n        </v-card-title>\n        <v-divider></v-divider>\n        <v-container>\n          <div v-if=\"currentFile\">\n            <v-progress-linear :value=\"progress\" color=\"light-blue\" height=\"25\" reactive>\n              <strong>{{ progress }} %</strong>\n            </v-progress-linear>\n          </div>\n          <v-row no-gutters justify=\"start\" align=\"center\" class=\"pb-4\">\n            <v-col cols=\"4\">\n              <v-file-input\n                :rules=\"rules\"\n                show-size\n                accept=\"image/png, image/jpeg, image/bmp\"\n                label=\"File input\"\n                multiple\n                @change=\"selectFile\"\n                v-model=\"currentFile\"\n              ></v-file-input>\n            </v-col>\n\n            <v-col cols=\"2\" class=\"pl-2\">\n              <v-btn color=\"success\" dark small @click=\"upload\">\n                Upload\n                <v-icon right dark>fal fa-cloud-upload-alt</v-icon>\n              </v-btn>\n            </v-col>\n          </v-row>\n        </v-container>\n        <v-card-text>\n          <v-container>\n            <v-alert v-if=\"message\" border=\"left\" color=\"blue-grey\" dark>{{ message }}</v-alert>\n            <template v-if=\"fileInfos.length > 0\">\n              <v-subheader>List of Files</v-subheader>\n              <div class=\"text-center\" v-show=\"looadImage\">\n                <v-progress-circular :size=\"70\" :width=\"7\" color=\"primary\" indeterminate></v-progress-circular>\n              </div>\n              <v-row align=\"start\" justify=\"start\" v-show=\"!looadImage\">\n                <v-col v-for=\"(file, index) in fileInfos\" :key=\"index\" cols=\"2\" class=\"list-image\">\n                  <v-card style=\"text-align: center\">\n                    <img :src=\"`/assets/${file.name}`\" :alt=\"file.name\" />\n                    <v-divider></v-divider>\n                    <v-card-text v-html=\"file.name\" />\n                    <v-divider></v-divider>\n                    <v-card-actions>\n                      <v-spacer></v-spacer>\n                      <v-btn color=\"primary\" dark small @click=\"onSelectedImage(file)\" icon>\n                        <v-icon right dark>fal fa-check</v-icon>\n                      </v-btn>\n                      <v-btn color=\"red darken-2\" dark small @click=\"onDelete(file)\" icon>\n                        <v-icon right dark>fal fa-trash-alt</v-icon>\n                      </v-btn>\n                    </v-card-actions>\n                  </v-card>\n                </v-col>\n              </v-row>\n            </template>\n          </v-container>\n        </v-card-text>\n      </v-card>\n    </v-dialog>\n  </v-row>\n</template>\n\n<script>\nimport UploadService from \"../services/UploadFilesService\";\nimport { mapState, mapMutations } from \"vuex\";\n\nexport default {\n  name: \"upload-files\",\n  data() {\n    return {\n      grid: [\"--large\", \"--medium\", \"--large\", \"--full\"],\n      currentFile: undefined,\n      progress: 0,\n      message: \"\",\n      fileInfos: [],\n      rules: [\n        files =>\n          !files ||\n          !files.some(file => file.size > 2e6) ||\n          \"Image size should be less than 2 MB!\"\n      ],\n      currentImageName: null,\n      looadImage: true\n    };\n  },\n  methods: {\n    ...mapMutations({\n      setCategories: \"SET_CATEGORIES\"\n    }),\n    selectFile(files) {\n      if (files.length) {\n        this.progress = 0;\n        this.currentFile = files;\n      } else {\n        this.currentFile = undefined;\n      }\n    },\n    onSelectedImage(file) {\n      if (this.dialogImage.cursorLocation === \"Editor\") {\n        this.$store.commit(\"SET_DIALOGIMAGE\", {\n          openDialog: false,\n          image: file,\n          cursorLocation: \"\"\n        });\n      } else {\n        this.$store.commit(\"SET_DIALOGIMAGE\", {\n          openDialog: false\n        });\n        this.$emit(\"selected-image\", file);\n      }\n    },\n    async upload() {\n      if (!this.currentFile) return (this.message = \"Please select a file!\");\n      this.message = \"\";\n      this.looadImage = true;\n      await Promise.all([\n        await UploadService.upload(this.currentFile, event => {\n          this.progress = Math.round((100 * event.loaded) / event.total);\n        }),\n        await UploadService.getFiles()\n      ]).then(val => {\n        val.forEach(o => {\n          if ([\"GET\", \"Get\", \"get\"].includes(o.config.method)) {\n            this.fileInfos = o.data.data;\n          } else {\n            this.message = o.data.message;\n          }\n        });\n      });\n\n      try {\n        await this.resetData();\n      } catch (error) {\n        this.progress = 0;\n        this.message = \"Could not upload the file!\";\n        this.currentFile = undefined;\n      }\n    },\n    async onDelete(file) {\n      this.message = \"\";\n      this.looadImage = true;\n      const {\n        data: { message }\n      } = await UploadService.deleteFile(file.name, event => {\n        this.progress = Math.round((100 * event.loaded) / event.total);\n      });\n      try {\n        this.message = message;\n        const index = this.fileInfos.indexOf(file);\n        this.fileInfos.splice(index, 1);\n        await this.resetData();\n      } catch (error) {\n        this.progress = 0;\n        this.message = \"Could not upload the file!\";\n        this.currentFile = undefined;\n      }\n    },\n    resetData() {\n      return new Promise(resolve =>\n        setTimeout(() => {\n          this.message = \"\";\n          this.progress = 0;\n          this.currentFile = undefined;\n          this.looadImage = false;\n          resolve();\n        }, (Math.random() * (2 - 0) + 0) * 1000)\n      );\n    },\n    close() {\n      this.$store.commit(\"SET_DIALOGIMAGE\", {\n        openDialog: false,\n        image: {},\n        cursorLocation: \"\"\n      });\n    }\n  },\n  async mounted() {\n    if (this.fileInfos.length) return true;\n    const {\n      data: { data }\n    } = await UploadService.getFiles();\n    try {\n      this.fileInfos = data;\n      await this.resetData();\n    } catch (error) {\n      this.message = \"Not Files\";\n      console.log(error);\n    }\n  },\n  computed: {\n    ...mapState([\"dialogImage\"])\n  }\n};\n</script>\n\n<style lang=\"scss\">\n.list-image {\n  img {\n    max-width: 100%;\n    width: auto;\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DialogsImages.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DialogsImages.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DialogsImages.vue?vue&type=template&id=4e04fde8&\"\nimport script from \"./DialogsImages.vue?vue&type=script&lang=js&\"\nexport * from \"./DialogsImages.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DialogsImages.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}