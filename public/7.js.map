{"version":3,"sources":["webpack:///./resources/js/BE/config.js","webpack:///./resources/js/BE/http/http-common.js","webpack:///./resources/js/BE/services/BlockService.js","webpack:///./resources/js/BE/pages/Pages/index.vue?1f12","webpack:///resources/js/BE/pages/Pages/index.vue","webpack:///./resources/js/BE/pages/Pages/index.vue?ecf8","webpack:///./resources/js/BE/pages/Pages/index.vue","webpack:///./resources/js/BE/services/PageService.js"],"names":["config","DOMAIN_API","xToken","document","head","querySelector","Axios","create","baseURL","headers","content","BlockService","http","get","response","status","_vm","$router","push","name","block","post","data","updated_at","put","id","fieldsLeft","thumbnail","publish","items","isLoading","openDialog","editIndex","newItem","sheet","opentSheet","message","computed","heading","this","methods","editItem","findIndex","forEach","group","field","value","item","ref","getMaxDate","reduce","component","_h","$createElement","_c","_self","staticClass","attrs","scopedSlots","_u","key","fn","_v","_s","Date","created_at","toDateString","on","$event","onSave","proxy","toLocaleString","category","deleteItem","$set","PageService","page","param","meta_title","meta_description","meta_keywords","meta_thumbnail"],"mappings":"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","file":"7.js","sourcesContent":["const NODE_ENV = process.env.NODE_ENV;\r\n\r\nconst dev = {\r\n    DOMAIN_API: \"http://127.0.0.1:8000\"\r\n};\r\n\r\nconst prod = {\r\n    DOMAIN_API: \"https://127.0.0.2\"\r\n};\r\n\r\nexport const config = NODE_ENV == \"development\" ? dev : prod;\r\n","import Axios from \"axios\";\nimport {config} from \"../config.js\";\n\nconst xToken = document.head.querySelector('meta[name=\"x-token\"]');\n\nexport default Axios.create({\n  baseURL: `${config.DOMAIN_API}/api`,\n  headers: {\n    \"Content-type\": \"application/json\",\n    \"Authorization\": `Bearer ${xToken.content}`\n  }\n});\n","import http from \"./../http/http-common\";\r\n\r\nclass BlockService {\r\n  async index() {\r\n    try {\r\n      return await http.get(\"/blocks\");\r\n    } catch ({ response }) {\r\n      if (response.status === 500) _vm.$router.push({name: 'Logout'})\r\n    }\r\n  }\r\n  show(block) { }\r\n  async create(block) {\r\n    return await http.post(\"/blocks\", block);\r\n  }\r\n  async update(block) {\r\n    const data = {\r\n      name: block.name,\r\n      content: block.content,\r\n      updated_at: block.updated_at\r\n    };\r\n    return await http.put(\"/blocks/\" + block.id, data);\r\n  }\r\n  async destroy(block) {\r\n    return await http.delete(`/blocks/${block.id}`);\r\n  }\r\n}\r\n\r\nexport default new BlockService();\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('base-material-card',{staticClass:\"px-5 py-10\",attrs:{\"color\":\"warning\"},scopedSlots:_vm._u([{key:\"heading\",fn:function(){return [_c('div',{staticClass:\"display-2 font-weight-light\"},[_vm._v(_vm._s(_vm.newItem.name))]),_vm._v(\" \"),_c('div',{staticClass:\"subtitle-1 font-weight-light\"},[_vm._v(\"New Pages on \"+_vm._s(new Date(_vm.newItem.created_at).toDateString()))]),_vm._v(\" \"),_c('v-spacer',{staticClass:\"py-3\"}),_vm._v(\" \"),_c('base-dialogs-form',{attrs:{\"heading\":_vm.heading,\"openDialog\":_vm.openDialog,\"fieldsLeft\":_vm.fieldsLeft,\"publish\":_vm.publish,\"thumbnail\":_vm.thumbnail,\"editIndex\":_vm.editIndex},on:{\"update:openDialog\":function($event){_vm.openDialog=$event},\"update:open-dialog\":function($event){_vm.openDialog=$event},\"update:publish\":function($event){_vm.publish=$event},\"update:thumbnail\":function($event){_vm.thumbnail=$event},\"update:editIndex\":function($event){_vm.editIndex=$event},\"update:edit-index\":function($event){_vm.editIndex=$event},\"save\":_vm.onSave}})]},proxy:true}])},[_vm._v(\" \"),_c('v-card-text',[_c('v-data-table',{attrs:{\"loading\":_vm.isLoading,\"headers\":_vm.headers,\"items\":_vm.items},scopedSlots:_vm._u([{key:\"item.updated_at\",fn:function(ref){\nvar item = ref.item;\nreturn [_vm._v(_vm._s(new Date(item.updated_at).toLocaleString()))]}},{key:\"item.thumbnail\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-img',{staticClass:\"m-auto\",attrs:{\"src\":(\"/assets/\" + (item.thumbnail.name)),\"width\":\"100\"}})]}},{key:\"item.category\",fn:function(ref){\nvar item = ref.item;\nreturn [_vm._v(_vm._s(item.category ? item.category.name : ''))]}},{key:\"item.publish\",fn:function(ref){\nvar item = ref.item;\nreturn [_vm._v(_vm._s(item.publish && item.publish == 1 ? true : false))]}},{key:\"item.actions\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-icon',{staticClass:\"mr-2\",attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.editItem(item)}}},[_vm._v(\"fal fa-pencil\")]),_vm._v(\" \"),_c('v-icon',{attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.deleteItem(item)}}},[_vm._v(\"fal fa-trash-alt\")])]}}])})],1)],1),_vm._v(\" \"),_c('base-bottom-sheet',{attrs:{\"opentSheet\":_vm.sheet.opentSheet,\"message\":_vm.sheet.message},on:{\"update:opentSheet\":function($event){return _vm.$set(_vm.sheet, \"opentSheet\", $event)},\"update:opent-sheet\":function($event){return _vm.$set(_vm.sheet, \"opentSheet\", $event)}}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container>\r\n    <base-material-card color=\"warning\" class=\"px-5 py-10\">\r\n      <template v-slot:heading>\r\n        <div class=\"display-2 font-weight-light\">{{ newItem.name }}</div>\r\n\r\n        <div\r\n          class=\"subtitle-1 font-weight-light\"\r\n        >New Pages on {{ new Date(newItem.created_at).toDateString() }}</div>\r\n        <v-spacer class=\"py-3\" />\r\n        <base-dialogs-form\r\n          :heading=\"heading\"\r\n          :openDialog.sync=\"openDialog\"\r\n          :fieldsLeft=\"fieldsLeft\"\r\n          :publish.sync=\"publish\"\r\n          :thumbnail.sync=\"thumbnail\"\r\n          :editIndex.sync=\"editIndex\"\r\n          @save=\"onSave\"\r\n        />\r\n      </template>\r\n      <v-card-text>\r\n        <v-data-table :loading=\"isLoading\" :headers=\"headers\" :items=\"items\">\r\n          <template\r\n            v-slot:item.updated_at=\"{ item }\"\r\n          >{{ new Date(item.updated_at).toLocaleString() }}</template>\r\n          <template v-slot:item.thumbnail=\"{item}\">\r\n            <v-img :src=\"`/assets/${item.thumbnail.name}`\" width=\"100\" class=\"m-auto\" />\r\n          </template>\r\n          <template v-slot:item.category=\"{item}\">{{ item.category ? item.category.name : ''}}</template>\r\n          <template\r\n            v-slot:item.publish=\"{ item }\"\r\n          >{{ item.publish && item.publish == 1 ? true : false}}</template>\r\n          <template v-slot:item.actions=\"{ item }\">\r\n            <v-icon small class=\"mr-2\" @click=\"editItem(item)\">fal fa-pencil</v-icon>\r\n            <v-icon small @click=\"deleteItem(item)\">fal fa-trash-alt</v-icon>\r\n          </template>\r\n        </v-data-table>\r\n      </v-card-text>\r\n    </base-material-card>\r\n    <base-bottom-sheet :opentSheet.sync=\"sheet.opentSheet\" :message=\"sheet.message\" />\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapMutations } from \"vuex\";\r\nimport PageService from \"./../../services/PageService\";\r\nimport BlockService from \"./../../services/BlockService\";\r\nexport default {\r\n  name: \"Pages\",\r\n  data() {\r\n    return {\r\n      headers: [\r\n        {\r\n          sortable: false,\r\n          text: \"ID\",\r\n          value: \"id\",\r\n        },\r\n        {\r\n          sortable: false,\r\n          text: \"Name\",\r\n          value: \"name\",\r\n        },\r\n        {\r\n          sortable: false,\r\n          text: \"Param\",\r\n          value: \"param\",\r\n          align: \"right\",\r\n        },\r\n        {\r\n          sortable: false,\r\n          text: \"Publish\",\r\n          value: \"publish\",\r\n          align: \"right\",\r\n        },\r\n        {\r\n          sortable: false,\r\n          text: \"Updated at\",\r\n          value: \"updated_at\",\r\n          align: \"right\",\r\n        },\r\n        {\r\n          text: \"Actions\",\r\n          value: \"actions\",\r\n          sortable: false,\r\n          align: \"right\",\r\n        },\r\n      ],\r\n      fieldsLeft: [\r\n        {\r\n          icon: \"fal fa-pen\",\r\n          title: \"Contents\",\r\n          active: true,\r\n          items: [\r\n            {\r\n              title: \"id\",\r\n              ref: \"id\",\r\n              rules: [],\r\n              required: true,\r\n              value: \"\",\r\n            },\r\n            {\r\n              title: \"Name\",\r\n              ref: \"name\",\r\n              rules: [],\r\n              required: true,\r\n              value: \"\",\r\n            },\r\n            {\r\n              title: \"Content\",\r\n              isEditor: true,\r\n              ref: \"content\",\r\n              value: \"\",\r\n            },\r\n          ],\r\n        },\r\n        {\r\n          icon: \"fal fa-book-reader\",\r\n          title: \"Meta Seo\",\r\n          items: [\r\n            {\r\n              title: \"Meta title\",\r\n              ref: \"meta_title\",\r\n              rules: [],\r\n              required: true,\r\n              value: \"\",\r\n            },\r\n            {\r\n              title: \"Meta description\",\r\n              ref: \"meta_description\",\r\n              rules: [],\r\n              required: true,\r\n              value: \"\",\r\n            },\r\n            {\r\n              title: \"Meta keywords\",\r\n              ref: \"meta_keywords\",\r\n              rules: [],\r\n              required: true,\r\n              value: \"\",\r\n            },\r\n            {\r\n              title: \"Param\",\r\n              ref: \"param\",\r\n              rules: [],\r\n              required: true,\r\n              value: \"\",\r\n            },\r\n          ],\r\n        },\r\n      ],\r\n      thumbnail: {},\r\n      publish: true,\r\n      items: [],\r\n      isLoading: true,\r\n      openDialog: false,\r\n      editIndex: -1,\r\n      newItem: {},\r\n      sheet: {\r\n        opentSheet: false,\r\n        message: \"\",\r\n      },\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState([\"blocks\", \"pages\"]),\r\n    heading() {\r\n      return this.editIndex === -1 ? \"New page\" : \"Edit page\";\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapMutations({\r\n      setBlocks: \"SET_BLOCKS\",\r\n      setPages: \"SET_PAGES\",\r\n    }),\r\n    editItem(item) {\r\n      this.openDialog = true;\r\n      this.editIndex = this.items.findIndex((data) => data.name == item.name);\r\n      this.fieldsLeft.forEach((group) => {\r\n        group.items.forEach((field) => {\r\n          field.value = item[field.ref];\r\n        });\r\n      });\r\n      this.thumbnail = { ...item.meta_thumbnail };\r\n      this.publish = item.publish === 1 ? true : false;\r\n    },\r\n    async onSave(item) {\r\n      item[\"meta_thumbnail_id\"] = item.thumbnail.id;\r\n      if (this.editIndex > -1) {\r\n        await PageService.update(item).then(({ data: { data } }) => {\r\n          Object.assign(this.items[this.editIndex], data);\r\n        });\r\n      } else {\r\n        await PageService.create(item).then(({ data: { data } }) => {\r\n          this.items.unshift(data);\r\n        });\r\n      }\r\n      this.openDialog = false;\r\n      this.editIndex = -1;\r\n    },\r\n    getMaxDate() {\r\n      this.newItem = this.items.reduce((a, b) =>\r\n        new Date(a.created_at) > new Date(b.created_at) ? a : b\r\n      );\r\n    },\r\n    async deleteItem(item) {\r\n      const index = await this.items.findIndex((i) => i.name == item.name);\r\n      if (index > -1) {\r\n        await PageService.destroy(item).then(({ data: { message } }) => {\r\n          this.items.splice(index, 1);\r\n          this.sheet.opentSheet = true;\r\n          this.sheet.message = message;\r\n        });\r\n      }\r\n    },\r\n  },\r\n  async mounted() {\r\n    if (!this.pages.length) {\r\n      await PageService.index()\r\n        .then(({ data: { data } }) => {\r\n          this.items = data;\r\n          this.isLoading = false;\r\n          if (data.length) this.getMaxDate();\r\n          this.setPages(data);\r\n        })\r\n        .catch((err) => {\r\n          this.isLoading = true;\r\n          console.log(err);\r\n        });\r\n    }\r\n\r\n    if (!this.blocks.length) {\r\n      await BlockService.index()\r\n        .then(({ data: { data } }) => {\r\n          this.setBlocks(data);\r\n        })\r\n        .catch((err) => {\r\n          this.isLoading = true;\r\n          console.log(err);\r\n        });\r\n    }\r\n\r\n    this.items = this.pages;\r\n    this.isLoading = false;\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=4d5318f1&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import http from \"./../http/http-common\";\n\nclass PageService {\n  async index() {\n    try {\n      return await http.get(\"/pages\");\n    } catch ({ response }) {\n      if (response.status === 500) _vm.$router.push({name: 'Logout'})\n    }\n  }\n  show(page) { }\n  async create(page) {\n    return await http.post(\"/pages\", page);\n  }\n  async update(page) {\n    const data = {\n      name: page.name,\n      content: page.content,\n      param: page.param,\n      meta_title: page.meta_title,\n      meta_description: page.meta_description,\n      meta_keywords: page.meta_keywords,\n      meta_thumbnail: page.meta_thumbnail,\n      updated_at: page.updated_at\n    };\n    return await http.put(\"/pages/\" + page.id, data);\n  }\n  async destroy(page) {\n    return await http.delete(`/pages/${page.id}`);\n  }\n}\n\nexport default new PageService();\n"],"sourceRoot":""}